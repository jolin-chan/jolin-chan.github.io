Design

We wanted SleepS50 to be a user-interactive website that is practical, informative, and fun to use. This means first allowing users to register and create an account, and then log in. Using Python and HTML, we created the register function to allow users to create a unique username and password. We then stored their information into an SQL table, with the password being hashed for security. The login function ensures that the user entered in the correct corresponding username and password, then leads them to a personalized welcome page (index.html) for them to get started on their SleepS50 journey.

Once users are logged in, they can access all of SleepS50’s features: diary, analysis, log, and resources. The diary feature utilizes an HTML form for people to input information about last night’s sleep. This is implemented by using multiple request forms. For example, when collecting information on the user’s hours slept and snooze count, we used a request form that sends back an error message if the user inputs a non-integer. The request forms for collecting the user’s daily goals and previous night dreams are done similarly minus the specific input type requirement. For the dreams and mood category, we used radio buttons that were all assigned to a different value and connected to a request form by their id name. The implementation is that when the user clicks on a button with a specific value, it sets a variable equal to the message of that value and that in turn becomes the value for the category. These values are then inserted into the diary table. The log feature then selects each day’s information from the table using queries, and puts the information into individual cards for users to look back on.

The analysis page serves to give the users a detailed breakdown of their sleeping patterns and logs. To implement this functionality, we used select queries to loop through the information that was stored in our diary table. The first two features of the analysis page is that it gives an average of the sleep hours and snooze counts via selecting from the diary table using SQL. Next, we had a line chart that had presented the user’s hours slept per specific day. The chart was created using Javascript in the HTML page. Since we wanted to be able to dynamically insert the data values from the user’s diary log as it updates over time, we implemented an x and y variable that selects the time and hours slept value from the diary table respectively. These variables were returned in the app.py, allowing us to use jinja and safe to print them in our javascript. We had to use safe because we needed a way to use jinja in javascript. For the next two graphs, we did similar designs. The bar graph and doughnut javascript were all inserted into our DOCTYPE in analysis.html. Their data values were also dynamically sourced using the same method as we did for the line chart.  

Our last feature is a page with resources to help users improve their sleep and well-being. It first begins with a “get_resources.html” page that includes two downloadable audio files for people to use as ringtones for their alarm. The audio files were inserted using the audio tag in our get_resurces.html page and are set up to be downloadable through a href tag. It also has a form with multiple checkboxes. Users can check the topics that they want to learn more about (sleep, meditation, music, dreams), and once they submit the form, it will lead them to a “resources.html” page with a table of articles and/or YouTube videos related to their chosen topic(s). We implemented this first by creating an SQL table with the resources and their links. We categorized them using a column called “categories,” and the other columns are “source” (for the source name) and “link.” In app.py, we then found the categories that the user chose by implementing a request form that links to the checkboxes in “get_resources.html” and making a list called tips. We use a for loop and execute an SQL query to select the category, source, and link for our table in “resources.html.” We linked together the resources in different categories based on the checked checkboxes via for loops and append, and lastly displayed them in a table.

Our styles.css file is where we included everything aesthetics-related, including SleepS50’s set of fonts and color scheme. Through styles.css and HTML pages, we were able to customize a navigation bar in “layout.html” that extended to the other templates. We also used CSS and HTML to customize the style for the cards for the log page, buttons when they’re needed for submitting a form, and the table for the resources page.

Other features include an error page with a funny cat image when our website detects an error, such as when passwords don’t match. We also allow users to change their passwords that will update the SQL table with a hashed version of the new inputted password.
